("undefined"===typeof window?global:window).__67239d8727b67748b2105d3faf199585=function(){function c(a){return a&&a.__esModule?a:{"default":a}}function s(a){a._select.selectedIndex=C;a._input.removeAttribute("style");(0,f.default)(a._input).removeClass("aui-select-has-inline-image")}function D(a,b){return 0===a.get("label").toLowerCase().indexOf(b.toLowerCase())}function h(a){a._suggestionsView.hide();a._input.setAttribute("aria-expanded","false")}function t(a){var b=a._suggestionModel.getNumberOfResults()?
0:n;a._suggestionModel.highlight(b);h(a)}function u(a,b,d){a._autoHighlight=b;void 0===d&&(d=a._input.value);a._progressiveDataSet.query(d)}function v(a){var b=a._suggestionModel.highlighted()&&a._suggestionModel.highlighted().get("img-src");b&&((0,f.default)(a._input).addClass("aui-select-has-inline-image"),a._input.setAttribute("style","background-image: url("+b+")"))}function o(a,b){if(b){var d=document.createElement("option"),i=a._select,c=b.get("value")||b.get("label");d.setAttribute("selected",
"");d.setAttribute("value",c);d.textContent=b.getLabel();a._input.value=d.textContent;i.innerHTML="";i.options.add(d);i.dispatchEvent(new w.default("change",{bubbles:!0}))}}function p(a){o(a,a._suggestionModel.highlighted());v(a);t(a)}function x(a){for(var b=[],d=0;d<a._datalist.children.length;d++)b.push(new j.default(a._datalist.children[d].serialize()));return b}function q(a){return(a=a._dropdown.querySelector(".aui-select-active"))&&a.id}function y(a,b){return f.default.map(b,function(a){return a.id}).indexOf(a)}
function E(a){var b=new F.default;b.setAttribute("value",a._input.value);a=new j.default(b.serialize());a.set("new-value",!0);return a}function r(a){var b=a.value?"":a._input.value,d=""===a._input.value;(0,e.default)(a).set("should-include-selected",d);u(a,!0,b)}function l(a){0<a._progressiveDataSet.activeQueryCount&&(0,e.default)(a).set("should-cancel-response",!0)}function z(a){if(0<=a._select.selectedIndex)return a._select.options[a._select.selectedIndex].textContent}function A(a){var b=!a.hasAttribute("no-empty-values"),
d=!a._input.value,i=a._input.value!==z(a);if(d||i)b?s(a):(b=z(a),"undefined"===typeof b?s(a):a._input.value=b)}var m={};"use strict";Object.defineProperty(m,"__esModule",{value:!0});var f=c(__700a145ba3db9966cc95664c892049f8);__eaacbdad8b92ceca9114dc3be870abe7;__fa714f1b12d7502957e4e0b6196321bf;__7662207c0e706b4f9b15584a7f7253f9;var F=c(__fe251e1f4080cfe4e163e9b243bb0491),G=c(__65ca28a9d6b0f244027266ff8e6a6d1c),w=c(__f7a5e0d2ea8865b104efc9b94861591e),H=c(__28c84e7bb75f6c3b0ba124d57bd69571),g=c(__e246bf93af36eb4453f35afeb1c302d9),
I=c(__4f7eb6cf60845d0cd685bf4d782df3ea),B=c(__0ac9a2c09f995a9c0a478af8742f59b7),e=c(__3f2c7809aecfe899611b77461a9218ac),j=c(__3612acbfe60f9cd2a88e38733670f664),J=c(__b227fe541363e13797e40f0e86a3a5b6),K=c(__9e2e7d5836591eb38f141c77fb1c9982),k=c(__7865c6da767e205eeac86fc044ce472b),L=c(__a0ab588de7b0759818853425dc8ad2f2),M=__584af8690b0248d0ffcba682ccaa70ba,C=-1,n=-1,k=(0,B.default)("aui-select",{template:k.default,created:function(a){a._listId=(0,L.default)();a._input=a.querySelector("input");a._select=
a.querySelector("select");a._dropdown=a.querySelector(".aui-popover");a._datalist=a.querySelector("datalist");a._button=a.querySelector("button");a._suggestionsView=new K.default(a._dropdown,a._input);a._suggestionModel=new J.default;a._suggestionModel.onChange=function(b){var d=[];a._suggestionModel._suggestions.forEach(function(a){b.some(function(b){return a.id===b.id})||d.push(a)});a._suggestionsView.render(d,b.length,a._listId)};a._suggestionModel.onHighlightChange=function(){var b=a._suggestionModel.highlightedIndex();
a._suggestionsView.setActive(b);a._input.setAttribute("aria-activedescendant",q(a))}},attached:function(a){B.default.init(a);a._progressiveDataSet=new I.default(x(a),{model:j.default,matcher:D,queryEndpoint:a._queryEndpoint,maxResults:20});a._isSync=a._queryEndpoint?!1:!0;a._progressiveDataSet.on("activity",function(){a._progressiveDataSet.activeQueryCount&&!a._isSync?(a._button.isBusy()||(a._button.busy(),a._input.setAttribute("aria-busy","true"),a._dropdown.setAttribute("aria-busy","true")),(0,
e.default)(a).set("should-flag-new-suggestions",!1)):(a._button.idle(),a._input.setAttribute("aria-busy","false"),a._dropdown.setAttribute("aria-busy","false"),(0,e.default)(a).set("should-flag-new-suggestions",!0))});a._progressiveDataSet.on("respond",function(b){if(!b.query||a._input.value)if((0,e.default)(a).get("should-cancel-response"))a._progressiveDataSet.activeQueryCount||(0,e.default)(a).set("should-cancel-response",!1);else{b.query||(b.results=x(a));var c=-1!==y(a._input.value,b.results),
f=!a._input.value;a.hasAttribute("can-create-values")&&(!c&&!f)&&b.results.push(E(a));if(!(0,e.default)(a).get("should-include-selected"))c=y(a.value,b.results),0<=c&&b.results.splice(c,1);a._suggestionModel.set();a._suggestionModel.set(b.results);b=a._suggestionModel.highlighted()||b.results[0];a._autoHighlight&&(a._suggestionModel.setHighlighted(b),setTimeout(function(){a._input.setAttribute("aria-activedescendant",q(a))},50));a._input.setAttribute("aria-expanded","true");if(!a._isSync&&a._suggestionsView.getActive()&&
(0,e.default)(a).get("should-flag-new-suggestions"))a.querySelector(".aui-select-status").innerHTML=AJS.I18n.getText("aui.select.new.suggestions");a._suggestionsView.show();a._autoHighlight&&setTimeout(function(){a._input.setAttribute("aria-activedescendant",q(a))},50)}});a._dropdown.id=a._listId;a.querySelector("button").setAttribute("aria-controls",a._listId);a._input.setAttribute("aria-controls",a._listId);a.setAttribute("tabindex","-1");(0,f.default)(a._dropdown).on("mouseover","li",function(b){a._suggestionModel.getNumberOfResults()&&
a._suggestionModel.highlight((0,f.default)(b.target).index())});(0,f.default)(a._dropdown).on("mousedown","li",function(b){if(a._suggestionModel.getNumberOfResults())a._suggestionModel.highlight((0,f.default)(b.target).index()),p(a),a._suggestionsView.hide(),a._input.removeAttribute("aria-activedescendant");else return!1});var b=a._datalist.querySelector("aui-option[selected]");b&&o(a,new j.default(b.serialize()));t(a);v(a)},attributes:{id:function(a,b){a.id&&(a.querySelector("input").id=b.newValue+
M.INPUT_SUFFIX)},name:function(a,b){a.querySelector("select").setAttribute("name",b.newValue)},placeholder:function(a,b){a.querySelector("input").setAttribute("placeholder",b.newValue)},src:function(a,b){a._queryEndpoint=b.newValue}},events:{"blur input":function(a){l(a);A(a);a._suggestionModel.highlight(n);h(a)},"mousedown button":function(a){document.activeElement===a._input&&"false"===a._dropdown.getAttribute("aria-hidden")&&(0,e.default)(a).set("prevent-open-on-button-click",!0)},"click input":function(a){r(a)},
"click button":function(a){var b=(0,e.default)(a);b.get("prevent-open-on-button-click")?b.set("prevent-open-on-button-click",!1):((0,e.default)(a).set("button-clicked-prevent-dropdown-hide",!0),a.focus())},input:function(a){a._input.value?((0,e.default)(a).set("should-include-selected",!0),u(a,!0)):(0,e.default)(a).get("button-clicked-prevent-dropdown-hide")?(0,e.default)(a).set("button-clicked-prevent-dropdown-hide",!1):h(a)},"keydown input":function(a,b){var d=a._input.value,c=!1;if(b.keyCode===
g.default.ESCAPE)l(a),h(a);else{if(a._suggestionsView.isVisible()&&a._suggestionModel.getNumberOfResults())b.keyCode===g.default.ENTER?(l(a),p(a),b.preventDefault()):b.keyCode===g.default.TAB?(a._suggestionsView.isVisible()&&p(a),c=!0):b.keyCode===g.default.UP?(a._suggestionModel.highlightPrevious(),b.preventDefault()):b.keyCode===g.default.DOWN&&(a._suggestionModel.highlightNext(),b.preventDefault());else if(b.keyCode===g.default.UP||b.keyCode===g.default.DOWN)r(a),b.preventDefault();c=c||b.defaultPrevented;
setTimeout(function(){a._input.value!==d&&!c&&a.dispatchEvent(new w.default("input",{bubbles:!0}))},0)}}},prototype:{get value(){var a=this._select.options[this._select.selectedIndex];return a?a.value:""},set value(a){if(""===a)this._input.value="",this._select.innerHTML="";else if(a){var b=this._progressiveDataSet,b=b.findWhere({value:a})||b.findWhere({label:a});!b&&this.hasAttribute("can-create-values")&&(b=new j.default({value:a,label:a}));o(this,b)}return this},get displayValue(){return this._input.value},
blur:function(){this._input.blur();l(this);A(this);this._suggestionModel.highlight(n);h(this);return this},focus:function(){this._input.focus();r(this);return this}}});(0,G.default)("aui/select",k);(0,H.default)("select",k);m.default=k;return m=m["default"]}.call(this);