define("confluence-quicknav/quick-nav",["ajs","jquery","confluence/api/logger"],function(d,c,k){var g=[],e,h=function(a){return function(f){a.closest("form").find(".quick-nav-drop-down").append(f)}},i=function(a){"undefined"!==typeof a?g.push(a):k.log("WARN: Attempted to add a dropdown post-process function that was undefined.")},l=function(a){c("a",a).each(function(){var a=c(this),b=a.find("span").data("properties");if((b=b?b.spaceName:null)&&!a.is(".content-type-spacedesc"))a.after(a.clone().attr("class",
"space-name").html(b)),a.parent().addClass("with-space-name")})};return{addDropDownPostProcess:i,setMakeParams:function(a){e=a},init:function(){var a=c("#quick-search-query"),f=h(a),b=c("#space-blog-quick-search-query"),j=c("#confluence-space-key");a.quicksearch("/rest/quicknav/1/search",null,{dropdownPlacement:f,dropdownPostprocess:function(a){c.each(g,function(c,b){b&&b(a)})},makeParams:function(a){return e?e(a):{query:a}},ajsDropDownOptions:{className:"quick-search-dropdown"}});i(l);b.length&&
j.length&&b.quicksearch("/rest/quicknav/1/search?type=blogpost&spaceKey="+d("i").html(j.attr("content")).text(),null,{dropdownPlacement:h(b)})}}});require("confluence/module-exporter").exportModuleAsGlobal("confluence-quicknav/quick-nav","Confluence.QuickNav");require("confluence/module-exporter").safeRequire("confluence-quicknav/quick-nav",function(d){var c=require("ajs");!1===require("confluence/dark-features").isEnabled("next.ui.search")&&c.toInit(d.init)});