define("atlassian-tinymce/utils/editable_selects",["document","tinymce/popup","window"],function(e,f,d){var c={editSelectElm:null,init:function(){var a=e.getElementsByTagName("select"),b,d;for(b=0;b<a.length;b++)-1!=a[b].className.indexOf("mceEditableSelect")&&(d=new Option(f.editor.translate("value"),"__mce_add_custom__"),d.className="mceAddSelectValue",a[b].options[a[b].options.length]=d,a[b].onchange=c.onChangeEditableSelect)},onChangeEditableSelect:function(a){var b=d.event?d.event.srcElement:
a.target;"__mce_add_custom__"==b.options[b.selectedIndex].value&&(a=e.createElement("input"),a.id=b.id+"_custom",a.name=b.name+"_custom",a.type="text",a.style.width=b.offsetWidth+"px",b.parentNode.insertBefore(a,b),b.style.display="none",a.focus(),a.onblur=c.onBlurEditableSelectInput,a.onkeydown=c.onKeyDown,c.editSelectElm=b)},onBlurEditableSelectInput:function(){var a=c.editSelectElm,b=require("atlassian-tinymce/utils/form_utils");a&&(""!=a.previousSibling.value?(b.addSelectValue(e.forms[0],a.id,
a.previousSibling.value,a.previousSibling.value),b.selectByValue(e.forms[0],a.id,a.previousSibling.value)):b.selectByValue(e.forms[0],a.id,""),a.style.display="inline",a.parentNode.removeChild(a.previousSibling),c.editSelectElm=null)},onKeyDown:function(a){a=a||d.event;if(13===a.keyCode)c.onBlurEditableSelectInput()}};return c});require("confluence/module-exporter").exportModuleAsGlobal("atlassian-tinymce/utils/editable_selects","TinyMCE_EditableSelects");