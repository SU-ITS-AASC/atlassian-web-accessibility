define("atlassian-tinymce/utils/form_utils",["tinymce","tinymce/popup"],function(f,g){var e={};e.themeBaseURL=g.editor.baseURI.toAbsolute("themes/"+g.getParam("theme"));e.getColorPickerHTML=function(a,c){var b="",d=g.dom,f=d.select("label[for="+c+"]")[0];f&&(f.id=f.id||d.uniqueId());return b=b+('<a role="button" aria-labelledby="'+a+'_label" id="'+a+'_link" href="javascript:;" onclick="tinyMCEPopup.pickColor(event,\''+c+'\');" onmousedown="return false;" class="pickcolor">')+('<span id="'+a+'" title="'+
g.getLang("browse")+'">&nbsp;<span id="'+a+'_label" class="mceVoiceLabel mceIconOnly" style="display:none;">'+g.getLang("browse")+"</span></span></a>")};e.updateColor=function(a,c){document.getElementById(a).style.backgroundColor=document.forms[0].elements[c].value};e.setBrowserDisabled=function(a,c){var b=document.getElementById(a),d=document.getElementById(a+"_link");d&&(c?(d.setAttribute("realhref",d.getAttribute("href")),d.removeAttribute("href"),g.dom.addClass(b,"disabled")):(d.getAttribute("realhref")&&
d.setAttribute("href",d.getAttribute("realhref")),g.dom.removeClass(b,"disabled")))};e.getBrowserHTML=function(a,c,b,d){d=d+"_"+b+"_browser_callback";return!g.getParam(d,g.getParam("file_browser_callback"))?"":a=""+('<a id="'+a+'_link" href="javascript:openBrowser(\''+a+"','"+c+"', '"+b+"','"+d+'\');" onmousedown="return false;" class="browse">')+('<span id="'+a+'" title="'+g.getLang("browse")+'">&nbsp;</span></a>')};e.openBrowser=function(a,c,b,d){"mceButtonDisabled"!=document.getElementById(a).className&&
g.openBrowser(c,b,d)};e.selectByValue=function(a,c,b,d,f){if(a&&a.elements[c]){b||(b="");for(var a=a.elements[c],c=!1,e,g=0;g<a.options.length;g++)e=a.options[g],e.value==b||f&&e.value.toLowerCase()==b.toLowerCase()?c=e.selected=!0:e.selected=!1;!c&&(d&&""!=b)&&(e=new Option(b,b),e.selected=!0,a.options[a.options.length]=e,a.selectedIndex=a.options.length-1);return c}};e.getSelectValue=function(a,c){var b=a.elements[c];return null==b||null==b.options||-1===b.selectedIndex?"":b.options[b.selectedIndex].value};
e.addSelectValue=function(a,c,b,d){a=a.elements[c];b=new Option(b,d);a.options[a.options.length]=b};e.addClassesToList=function(a,c){var b=document.getElementById(a),d=g.getParam("theme_advanced_styles",!1);if(d=g.getParam(c,d))for(var d=d.split(";"),e=0;e<d.length;e++){if(""!=d){var h,i;h=d[e].split("=")[0];i=d[e].split("=")[1];b.options[b.length]=new Option(h,i)}}else f.each(g.editor.dom.getClasses(),function(a){b.options[b.length]=new Option(a.title||a["class"],a["class"])})};e.isVisible=function(a){return(a=
document.getElementById(a))&&"none"!=a.style.display};e.convertRGBToHex=function(a){var c=a.replace(/rgb\s*\(\s*([0-9]+).*,\s*([0-9]+).*,\s*([0-9]+).*\)/gi,"$1,$2,$3").split(",");if(3===c.length){var a=parseInt(c[0]).toString(16),b=parseInt(c[1]).toString(16),c=parseInt(c[2]).toString(16),a=1===a.length?"0"+a:a,b=1===b.length?"0"+b:b,c=1===c.length?"0"+c:c;return"#"+a+b+c}return a};e.convertHexToRGB=function(a){if(-1!=a.indexOf("#")){var a=a.replace(/[^0-9A-F]/gi,""),c=parseInt(a.substring(0,2),16),
b=parseInt(a.substring(2,4),16),a=parseInt(a.substring(4,6),16);return"rgb("+c+","+b+","+a+")"}return a};e.trimSize=function(a){return a.replace(/([0-9\.]+)(px|%|in|cm|mm|em|ex|pt|pc)/i,"$1$2")};e.getCSSSize=function(a){a=e.trimSize(a);if(""==a)return"";if(/^[0-9]+$/.test(a))a+="px";else if(!/^[0-9\.]+(px|%|in|cm|mm|em|ex|pt|pc)$/i.test(a))return"";return a};e.getStyle=function(a,c,b){var d=g.dom.getAttrib(a,c);if(""!=d)return""+d;"undefined"==typeof b&&(b=c);return g.dom.getStyle(a,b)};return e});
require("confluence/module-exporter").safeRequire("atlassian-tinymce/utils/form_utils",function(f){window.themeBaseURL=f.themeBaseURL;window.getColorPickerHTML=f.getColorPickerHTML;window.updateColor=f.updateColor;window.setBrowserDisabled=f.setBrowserDisabled;window.getBrowserHTML=f.getBrowserHTML;window.openBrowser=f.openBrowser;window.selectByValue=f.selectByValue;window.getSelectValue=f.getSelectValue;window.addSelectValue=f.addSelectValue;window.addClassesToList=f.addClassesToList;window.isVisible=
f.isVisible;window.convertRGBToHex=f.convertRGBToHex;window.convertHexToRGB=f.convertHexToRGB;window.trimSize=f.trimSize;window.getCSSSize=f.getCSSSize;window.getStyle=f.getStyle});