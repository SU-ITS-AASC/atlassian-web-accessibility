define("atlassian-tinymce/utils/mctabs",["tinymce","tinymce/popup","document"],function(g,e,h){var g={},i=function(){this.settings=[];this.onChange=e.editor.windowManager.createInstance("tinymce.util.Dispatcher")};i.prototype={init:function(a){this.settings=a},getParam:function(a,d){var b=null,b="undefined"===typeof this.settings[a]?d:this.settings[a];return"true"==b||"false"==b?"true"==b:b},showTab:function(a){a.className="current";a.setAttribute("aria-selected",!0);a.setAttribute("aria-expanded",
!0);a.tabIndex=0},hideTab:function(a){a.className="";a.setAttribute("aria-selected",!1);a.setAttribute("aria-expanded",!1);a.tabIndex=-1},showPanel:function(a){a.className="current";a.setAttribute("aria-hidden",!1)},hidePanel:function(a){a.className="panel";a.setAttribute("aria-hidden",!0)},getPanelForTab:function(a){return e.dom.getAttrib(a,"aria-controls")},displayTab:function(a,d,b){var e,c,f,a=h.getElementById(a);void 0===d&&(d=this.getPanelForTab(a));e=(d=h.getElementById(d))?d.parentNode:null;
c=a?a.parentNode:null;this.getParam("selection_class","current");if(a&&c){c=c.childNodes;for(f=0;f<c.length;f++)"LI"===c[f].nodeName&&this.hideTab(c[f]);this.showTab(a)}if(d&&e){c=e.childNodes;for(f=0;f<c.length;f++)"DIV"===c[f].nodeName&&this.hidePanel(c[f]);b||a.focus();this.showPanel(d)}},getAnchor:function(){var a,d=h.location.href;return-1!==(a=d.lastIndexOf("#"))?d.substring(a+1):""}};g.MCTabs=i;g.popupInitializer=function(a){var d=e.getWin().tinymce,b=e.dom,g=d.each;g(b.select("div.tabs"),
function(c){var f;b.setAttrib(c,"role","tablist");var h=e.dom.select("li",c),i=function(b){a.displayTab(b,a.getPanelForTab(b));a.onChange.dispatch(b)};g(h,function(a){b.setAttrib(a,"role","tab");b.bind(a,"click",function(){i(a.id)})});b.bind(b.getRoot(),"keydown",function(a){9===a.keyCode&&(a.ctrlKey&&!a.altKey)&&(f.moveFocus(a.shiftKey?-1:1),d.dom.Event.cancel(a))});g(b.select("a",c),function(a){b.setAttrib(a,"tabindex","-1")});f=e.editor.windowManager.createInstance("tinymce.ui.KeyboardNavigation",
{root:c,items:h,onAction:i,actOnFocus:!0,enableLeftRight:!0,enableUpDown:!0},e.dom)})};return g});require("confluence/module-exporter").safeRequire("atlassian-tinymce/utils/mctabs",function(g){var e=require("tinymce/popup"),h=require("window");h.mcTabs=new g.MCTabs;e.onInit.add(g.popupInitializer(h.mcTabs))});