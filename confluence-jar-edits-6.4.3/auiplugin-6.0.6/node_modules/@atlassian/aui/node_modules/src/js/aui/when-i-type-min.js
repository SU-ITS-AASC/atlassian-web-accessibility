("undefined"===typeof window?global:window).__28e4efe4472a2cec72985d259674db56=function(){function p(e){return e&&e.__esModule?e:{"default":e}}function n(f){function i(a){!v.popup.current&&h&&h.fire(a)}function d(a){a.preventDefault()}function g(a){(a&&a.split?e.default.trim(a).split(" "):[a]).forEach(function(c){if(!(c instanceof Array)){for(var c=c.toString(),b=[],m="";c.length;){var a=c.match(/^(ctrl|meta|shift|alt)\+/i),f=c.match(w);a?(m+=a[0],c=c.substring(a[0].length)):(f?(b.push(m+f[0]),c=
c.substring(f[0].length)):(b.push(m+c[0]),c=c.substring(1)),m="")}c=b}a:{for(b=c.length;b--;)if(1<c[b].length&&"space"!==c[b]){b=!0;break a}b=!1}b=b?"keydown":"keypress";l.push(c);(0,e.default)(document).bind(b,c,i);(0,e.default)(document).bind(b+" keyup",c,d)})}function k(a,c,b){b?c+=" ("+AJS.I18n.getText("aui.keyboard.shortcut.type.x",a.shift()):(c=c.replace(/\)$/,""),c+=AJS.I18n.getText("aui.keyboard.shortcut.or.x",a.shift()));a.forEach(function(b){c=c+(" "+AJS.I18n.getText("aui.keyboard.shortcut.then.x",
b))});return c+=")"}var l=[],h=e.default.Callbacks();g(f);return n.makeShortcut({executor:h,bindKeys:g,addShortcutsToTitle:function(a){for(var a=(0,e.default)(a),c=a.attr("title")||"",b=l.slice(),m=a.data("boundKeyCombos")||[],j=a.data("kbShortcutAppended")||"",f=!j,c=f?c:c.substring(0,c.length-j.length);b.length;){var d=b.shift();m.some(function(b){return x.default.isEqual(d,b)})||(j=k(d.slice(),j,f),f=!1)}t&&(j=j.replace(/Meta/ig,"\u2318").replace(/Shift/ig,"\u21e7"));a.attr("title",c+j);a.data("kbShortcutAppended",
j);a.data("boundKeyCombos",m.concat(l))},removeShortcutsFromTitle:function(a){var a=(0,e.default)(a),c=a.data("kbShortcutAppended");if(c){var b=a.attr("title");a.attr("title",b.replace(c,""));a.removeData("kbShortcutAppended");a.removeData("boundKeyCombos")}},keypressHandler:i,defaultPreventionHandler:d})}var q={};"use strict";Object.defineProperty(q,"__esModule",{value:!0});var e=p(__307d3e18fd611f85395c67cddeb1fe24);__9d8814c2d651791325671e2fd4ff2ade;__55cc9a6466186ba6dac3b7d90666eefa;var r;var g=
__cf890abdf040e0993fb71f2f839bc972;if(g&&g.__esModule)r=g;else{var s={};if(null!=g)for(var o in g)Object.prototype.hasOwnProperty.call(g,o)&&(s[o]=g[o]);s.default=g;r=s}var v=__8eca5e5171c0c22be18ea931ed65c747;o=p(__4d02fe17b8e885a34493e34af3d145dd);var y=__5e80b2d38fa1ffdd67aa3d521738d499,z=p(__509557c937caa8763def39004fcf3193),x=p(__922acd0053a6de3ea4c53d8902766ab6),t=-1!==navigator.platform.indexOf("Mac"),w=/^(backspace|tab|r(ight|eturn)|s(hift|pace|croll)|c(trl|apslock)|alt|pa(use|ge(up|down))|e(sc|nd)|home|left|up|d(el|own)|insert|f\d\d?|numlock|meta)/i,
u=function(e){var i=e[0];i&&"MouseEvent"in window?(e=void 0,(0,y.supportsNewMouseEvent)()?e=new MouseEvent("click",{bubbles:!0,cancelable:!0}):(e=document.createEvent("MouseEvent"),e.initEvent("click",!0,!0)),i.dispatchEvent(e)):e.trigger("click")};n.makeShortcut=function(f){function i(b){return function(c,a){var a=a||{},f=a.focusedClass||"focused",i=a.hasOwnProperty("wrapAround")?a.wrapAround:!0,g=a.hasOwnProperty("escToCancel")?a.escToCancel:!0;d.add(function(){var a=(0,e.default)(c),d=a.filter("."+
f),j=0===d.length?void 0:{transition:!0};if(g)(0,e.default)(document).one("keydown",function(b){b.keyCode===z.default.ESCAPE&&d&&d.removeClass(f)});d.length&&d.removeClass(f);if((d=b(d,a,i))&&0<d.length)d.addClass(f),d.moveTo(j),d.is("a")?d.focus():d.find("a:first").focus()});return this}}var d=f.executor,g=f.bindKeys,k=f.addShortcutsToTitle,l=f.removeShortcutsFromTitle,h=f.keypressHandler,a=f.defaultPreventionHandler,c=[];return{moveToNextItem:i(function(b,a,c){var d;if(c&&0===b.length)return a.eq(0);
d=e.default.inArray(b.get(0),a);return d<a.length-1?a.eq(d+1):c?a.eq(0):b}),moveToPrevItem:i(function(b,a,c){var d;if(c&&0===b.length)return a.filter(":last");d=e.default.inArray(b.get(0),a);return 0<d?a.eq(d-1):c?a.filter(":last"):b}),click:function(b){c.push(b);k(b);d.add(function(){var a=(0,e.default)(b);u(a)});return this},goTo:function(b){d.add(function(){window.location.href=b});return this},followLink:function(b){c.push(b);k(b);d.add(function(){var a=(0,e.default)(b)[0];a&&{a:!0,link:!0}[a.nodeName.toLowerCase()]&&
(window.location.href=a.href)});return this},execute:function(b){var a=this;d.add(function(){b.apply(a,arguments)});return this},evaluate:function(b){b.call(this)},moveToAndClick:function(b){c.push(b);k(b);d.add(function(){var a=(0,e.default)(b);0<a.length&&(u(a),a.moveTo())});return this},moveToAndFocus:function(a){c.push(a);k(a);d.add(function(c){var d=(0,e.default)(a);0<d.length&&(d.focus(),d.moveTo&&d.moveTo(),d.is(":input")&&c.preventDefault())});return this},or:function(a){g(a);return this},
unbind:function(){(0,e.default)(document).unbind("keydown keypress",h).unbind("keydown keypress keyup",a);for(var b=0,d=c.length;b<d;b++)l(c[b]);c=[]}}};n.fromJSON=function(f,g){var d=[];f&&e.default.each(f,function(f,k){var l=k.op,h=k.param,a=void 0;if("execute"===l||"evaluate"===l)a=[new Function(h)];else if(/^\[[^\]\[]*,[^\]\[]*\]$/.test(h)){try{a=JSON.parse(h)}catch(c){r.error("When using a parameter array, array must be in strict JSON format: "+h)}e.default.isArray(a)||r.error("Badly formatted shortcut parameter. String or JSON Array of parameters required: "+
h)}else a=[h];e.default.each(k.keys,function(){var b=this;g&&t&&(b=e.default.map(b,function(a){return a.replace(/ctrl/i,"meta")}));b=n(b);b[l].apply(b,a);d.push(b)})});return d};(0,e.default)(document).bind("iframeAppended",function(f,g){(0,e.default)(g).load(function(){(0,e.default)(g).contents().bind("keyup keydown keypress",function(d){e.default.browser.safari&&"keypress"===d.type||(0,e.default)(d.target).is(":input")||e.default.event.trigger(d,arguments,document,!0)})})});(0,o.default)("whenIType",
n);q.default=n;return q=q["default"]}.call(this);