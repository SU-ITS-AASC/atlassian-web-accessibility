("undefined"==typeof window?global:window).__8eca5e5171c0c22be18ea931ed65c747=function(){var t={},e=t;Object.defineProperty(e,"__esModule",{value:!0}),e.popup=e.Dialog=void 0;var i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},n=l(__307d3e18fd611f85395c67cddeb1fe24),o=r(__cf890abdf040e0993fb71f2f839bc972),a=r(__c8cfa00f1eba9ac7af89ee3d0d33961d),h=__bf6c7c62de0eb613e0ab12d56d9a6197,s=__594942bfcf520d6e5a0843b1cfdd039a,p=__05b42b82bab2942063ea875333a900bb,u=l(__fd277fcde858b82a198666a405e85600),d=l(__4d02fe17b8e885a34493e34af3d145dd);function r(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e.default=t,e}function l(t){return t&&t.__esModule?t:{default:t}}function c(t){var e={width:800,height:600,closeOnOutsideClick:!1,keypressListener:function(t){27===t.keyCode&&o.is(":visible")&&l.hide()}};"object"!=(void 0===t?"undefined":i(t))&&(t={width:arguments[0],height:arguments[1],id:arguments[2]},t=n.default.extend({},t,arguments[3])),t=n.default.extend({},e,t);var o=(0,u.default)("div").addClass("aui-popup");t.id&&o.attr("id",t.id);var a=3e3;(0,n.default)(".aui-dialog").each(function(){var t=(0,n.default)(this);a=t.css("z-index")>a?t.css("z-index"):a});var h=function e(i,n){return t.width=i=i||t.width,t.height=n=n||t.height,o.css({marginTop:-Math.round(n/2)+"px",marginLeft:-Math.round(i/2)+"px",width:i,height:n,"z-index":parseInt(a,10)+2}),e}(t.width,t.height);(0,n.default)("body").append(o),o.hide(),(0,p.enable)(o);var d=(0,n.default)(".aui-blanket"),r=function(t,e){var i=(0,n.default)(t,e);return!!i.length&&(i.focus(),!0)},l={changeSize:function(e,i){(e&&e!=t.width||i&&i!=t.height)&&h(e,i),this.show()},show:function(){var e=function(){(0,n.default)(document).off("keydown",t.keypressListener).on("keydown",t.keypressListener),(0,s.dim)(),0!=(d=(0,n.default)(".aui-blanket")).size()&&t.closeOnOutsideClick&&d.click(function(){o.is(":visible")&&l.hide()}),o.show(),o.attr("aria-hidden","false"),c.current=this,function(e){if(0===(0,n.default)(".dialog-page-body",e).find(":focus").length){if(t.focusSelector)return r(t.focusSelector,e);var i=":input:visible:enabled:first";r(i,(0,n.default)(".dialog-page-body",e))||r(i,(0,n.default)(".dialog-button-panel",e))||r(i,(0,n.default)(".dialog-page-menu",e))}}(o),(0,n.default)(document).trigger("showLayer",["popup",this])};e.call(this),this.show=e},hide:function(){(0,n.default)(document).unbind("keydown",t.keypressListener),d.unbind(),this.element.hide(),0==(0,n.default)(".aui-dialog:visible").size()&&(0,s.undim)();var e=document.activeElement;this.element.has(e).length&&e.blur(),(0,n.default)(document).trigger("hideLayer",["popup",this]),c.current=null,this.enable()},element:o,remove:function(){o.remove(),this.element=null},disable:function(){this.disabled||(this.popupBlanket=(0,n.default)("<div class='dialog-blanket'> </div>").css({height:o.height(),width:o.width()}),o.append(this.popupBlanket),this.disabled=!0)},enable:function(){this.disabled&&(this.disabled=!1,this.popupBlanket.remove(),this.popupBlanket=null)}};return l}var g=function(){function t(t,e,i,n){t.buttonpanel||t.addButtonPanel(),this.page=t,this.onclick=i,this._onclick=function(e){return!0===i.call(this,t.dialog,t,e)},this.item=(0,u.default)("button",e).addClass("button-panel-button"),n&&this.item.addClass(n),"function"==typeof i&&this.item.click(this._onclick),t.buttonpanel.append(this.item),this.id=t.button.length,t.button[this.id]=this}function e(t,e){var i="left"==t?-1:1;return function(t){var n=this.page[e];if(this.id!=(1==i?n.length-1:0)){i*=t||1,n[this.id+i].item[i<0?"before":"after"](this.item),n.splice(this.id,1),n.splice(this.id+i,0,this);for(var o=0,a=n.length;o<a;o++)"panel"==e&&this.page.curtab==n[o].id&&(this.page.curtab=o),n[o].id=o}return this}}function i(t){return function(){this.page[t].splice(this.id,1);for(var e=0,i=this.page[t].length;e<i;e++)this.page[t][e].id=e;this.item.remove()}}t.prototype.moveUp=t.prototype.moveLeft=e("left","button"),t.prototype.moveDown=t.prototype.moveRight=e("right","button"),t.prototype.remove=i("button"),t.prototype.html=function(t){return this.item.html(t)},t.prototype.onclick=function(t){if(void 0===t)return this.onclick;this.item.unbind("click",this._onclick),this._onclick=function(e){return!0===t.call(this,page.dialog,page,e)},"function"==typeof t&&this.item.click(this._onclick)};var a=function(t,e,i,a,h){i instanceof n.default||(i=(0,n.default)(i)),this.dialog=t.dialog,this.page=t,this.id=t.panel.length,this.button=(0,u.default)("button").html(e).addClass("item-button"),h&&(this.button[0].id=h),this.item=(0,u.default)("li").append(this.button).addClass("page-menu-item"),this.body=(0,u.default)("div").append(i).addClass("dialog-panel-body").attr("tabindex","-1").css("height",t.dialog.height+"px"),this.padding=20,a&&this.body.addClass(a);var s=t.panel.length,p=this;t.menu.append(this.item),t.body.append(this.body),t.panel[s]=this;var d=function(){var e;t.curtab+1&&((e=t.panel[t.curtab]).body.hide(),e.item.removeClass("selected"),"function"==typeof e.onblur&&e.onblur()),t.curtab=p.id,p.body.show(),p.body.focus(),p.item.addClass("selected"),"function"==typeof p.onselect&&p.onselect(),"function"==typeof t.ontabchange&&t.ontabchange(p,e)};this.button.click?this.button.click(d):(o.log("atlassian-dialog:Panel:constructor - this.button.click false"),this.button.onclick=d),d(),0==s?t.menu.css("display","none"):t.menu.show()};a.prototype.select=function(){this.button.click()},a.prototype.moveUp=a.prototype.moveLeft=e("left","panel"),a.prototype.moveDown=a.prototype.moveRight=e("right","panel"),a.prototype.remove=i("panel"),a.prototype.html=function(t){return t?(this.body.html(t),this):this.body.html()},a.prototype.setPadding=function(t){return isNaN(+t)||(this.body.css("padding",+t),this.padding=+t,this.page.recalcSize()),this};var s=function(t,e){this.dialog=t,this.id=t.page.length,this.element=(0,u.default)("div").addClass("dialog-components"),this.body=(0,u.default)("div").addClass("dialog-page-body"),this.menu=(0,u.default)("ul").addClass("dialog-page-menu").css("height",t.height+"px"),this.body.append(this.menu),this.curtab,this.panel=[],this.button=[],e&&this.body.addClass(e),t.popup.element.append(this.element.append(this.menu).append(this.body)),t.page[t.page.length]=this};function p(t,e,i){var o={};+t||(t=(o=Object(t)).width,e=o.height,i=o.id),this.height=e||480,this.width=t||640,this.id=i,o=n.default.extend({},o,{width:this.width,height:this.height,id:this.id}),this.popup=c(o),this.popup.element.addClass("aui-dialog").attr("role","dialog"),this.page=[],this.curpage=0,new s(this)}return s.prototype.recalcSize=function(){for(var t=this.header?56:0,e=this.buttonpanel?51:0,i=this.panel.length;i--;){var n=this.dialog.height-t-e;this.panel[i].body.css("height",n),this.menu.css("height",n)}},s.prototype.addButtonPanel=function(){this.buttonpanel=(0,u.default)("div").addClass("dialog-button-panel"),this.element.append(this.buttonpanel)},s.prototype.addPanel=function(t,e,i,n){return new a(this,t,e,i,n),this.recalcSize(),this},s.prototype.addHeader=function(t,e){return this.header&&this.header.remove(),this.header=(0,u.default)("h2").text(t||"").addClass("dialog-title"),e&&this.header.addClass(e),this.element.prepend(this.header),this.recalcSize(),this},s.prototype.addButton=function(e,i,n){return new t(this,e,i,n),this.recalcSize(),this},s.prototype.addLink=function(t,e,i,n){return new function(t,e,i,n,o){t.buttonpanel||t.addButtonPanel(),o||(o="#"),this.page=t,this.onclick=i,this._onclick=function(e){return!0===i.call(this,t.dialog,t,e)},this.item=(0,u.default)("a",e).attr("href",o).addClass("button-panel-link"),n&&this.item.addClass(n),"function"==typeof i&&this.item.click(this._onclick),t.buttonpanel.append(this.item),this.id=t.button.length,t.button[this.id]=this}(this,t,e,i,n),this.recalcSize(),this},s.prototype.gotoPanel=function(t){this.panel[t.id||t].select()},s.prototype.getCurrentPanel=function(){return this.panel[this.curtab]},s.prototype.hide=function(){this.element.hide()},s.prototype.show=function(){this.element.show()},s.prototype.remove=function(){this.element.remove()},p.prototype.addHeader=function(t,e){return this.page[this.curpage].addHeader(t,e),this},p.prototype.addButton=function(t,e,i){return this.page[this.curpage].addButton(t,e,i),this},p.prototype.addLink=function(t,e,i,n){return this.page[this.curpage].addLink(t,e,i,n),this},p.prototype.addSubmit=function(t,e){return this.page[this.curpage].addButton(t,e,"button-panel-submit-button"),this},p.prototype.addCancel=function(t,e){return this.page[this.curpage].addLink(t,e,"button-panel-cancel-link"),this},p.prototype.addButtonPanel=function(){return this.page[this.curpage].addButtonPanel(),this},p.prototype.addPanel=function(t,e,i,n){return this.page[this.curpage].addPanel(t,e,i,n),this},p.prototype.addPage=function(t){return new s(this,t),this.page[this.curpage].hide(),this.curpage=this.page.length-1,this},p.prototype.nextPage=function(){return this.page[this.curpage++].hide(),this.curpage>=this.page.length&&(this.curpage=0),this.page[this.curpage].show(),this},p.prototype.prevPage=function(){return this.page[this.curpage--].hide(),this.curpage<0&&(this.curpage=this.page.length-1),this.page[this.curpage].show(),this},p.prototype.gotoPage=function(t){return this.page[this.curpage].hide(),this.curpage=t,this.curpage<0?this.curpage=this.page.length-1:this.curpage>=this.page.length&&(this.curpage=0),this.page[this.curpage].show(),this},p.prototype.getPanel=function(t,e){var i=null==e?this.curpage:t;return null==e&&(e=t),this.page[i].panel[e]},p.prototype.getPage=function(t){return this.page[t]},p.prototype.getCurrentPanel=function(){return this.page[this.curpage].getCurrentPanel()},p.prototype.gotoPanel=function(t,e){if(null!=e){var i=t.id||t;this.gotoPage(i)}this.page[this.curpage].gotoPanel(void 0===e?t:e)},p.prototype.show=function(){return this.popup.show(),(0,h.trigger)("show.dialog",{dialog:this}),this},p.prototype.hide=function(){return this.popup.hide(),(0,h.trigger)("hide.dialog",{dialog:this}),this},p.prototype.remove=function(){this.popup.hide(),this.popup.remove(),(0,h.trigger)("remove.dialog",{dialog:this})},p.prototype.disable=function(){return this.popup.disable(),this},p.prototype.enable=function(){return this.popup.enable(),this},p.prototype.get=function(t){var e=[],i=this,n='#([^"][^ ]*|"[^"]*")',o="(?:(page|panel|button|header)(?:"+n+"|:(\\d+))?|"+n+")",a=new RegExp("(?:^|,)\\s*"+o+"(?:\\s+"+o+")?\\s*(?=,|$)","ig");(t+"").replace(a,function(t,n,o,a,h,s,p,u,d){var r=[];if("page"==(n=n&&n.toLowerCase())&&i.page[a]?(r.push(i.page[a]),n=(n=s)&&n.toLowerCase(),o=p,a=u,h=d):r=i.page,o=o&&(o+"").replace(/"/g,""),p=p&&(p+"").replace(/"/g,""),h=h&&(h+"").replace(/"/g,""),d=d&&(d+"").replace(/"/g,""),n||h)for(var l=r.length;l--;){if(h||"panel"==n&&(o||!o&&null==a))for(var c=r[l].panel.length;c--;)(r[l].panel[c].button.html()==h||r[l].panel[c].button.html()==o||"panel"==n&&!o&&null==a)&&e.push(r[l].panel[c]);if(h||"button"==n&&(o||!o&&null==a))for(c=r[l].button.length;c--;)(r[l].button[c].item.html()==h||r[l].button[c].item.html()==o||"button"==n&&!o&&null==a)&&e.push(r[l].button[c]);r[l][n]&&r[l][n][a]&&e.push(r[l][n][a]),"header"==n&&r[l].header&&e.push(r[l].header)}else e=e.concat(r)});for(var h={length:e.length},s=e.length;s--;){h[s]=e[s];for(var p in e[s])p in h||function(t){h[t]=function(){for(var e=this.length;e--;)"function"==typeof this[e][t]&&this[e][t].apply(this[e],arguments)}}(p)}return h},p.prototype.updateHeight=function(){for(var t=0,e=(0,n.default)(window).height()-56-51-100,i=0;this.getPanel(i);i++)this.getPanel(i).body.css({height:"auto",display:"block"}).outerHeight()>t&&(t=Math.min(e,this.getPanel(i).body.outerHeight())),i!==this.page[this.curpage].curtab&&this.getPanel(i).body.css({display:"none"});for(i=0;this.getPanel(i);i++)this.getPanel(i).body.css({height:t||this.height});this.page[0].menu.height(t),this.height=t+56+51+1,this.popup.changeSize(void 0,this.height)},p.prototype.isMaximised=function(){return this.popup.element.outerHeight()>=(0,n.default)(window).height()-100},p.prototype.getCurPanel=function(){return this.getPanel(this.page[this.curpage].curtab)},p.prototype.getCurPanelButton=function(){return this.getCurPanel().button},p}();return e.Dialog=g=a.construct(g,"Dialog constructor",{alternativeName:"Dialog2"}),e.popup=c=a.construct(c,"Dialog popup constructor",{alternatveName:"Dialog2"}),(0,d.default)("Dialog",g),(0,d.default)("popup",c),e.Dialog=g,e.popup=c,t}.call(this);