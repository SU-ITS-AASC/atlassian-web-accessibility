<atlassian-plugin key="com.atlassian.confluence.plugins.search.confluence-search" name="Confluence Search Plugin" plugins-version="2"><plugin-info><description>This is the Confluence Search Plugin for Atlassian Confluence.</description><version>3.0.1</version><vendor name="Atlassian" url="http://www.atlassian.com/"/><param name="plugin-icon">images/pluginIcon.png</param><param name="plugin-logo">images/pluginLogo.png</param></plugin-info><analytics-whitelist key="confluenceV3SearchWhiteList" resource="analytics-whitelist.json"/><resource type="i18n" name="i18n" location="confluence-search"/><component-import key="darkFeatureManager" interface="com.atlassian.sal.api.features.DarkFeatureManager"/><component-import key="pluginAccessor" interface="com.atlassian.plugin.PluginAccessor"/><component-import key="eventPublisher" interface="com.atlassian.event.api.EventPublisher"/><component-import key="transactionTemplate" interface="com.atlassian.sal.api.transaction.TransactionTemplate"/><component-import key="luceneQueryParserFactory" interface="com.atlassian.confluence.search.lucene.LuceneQueryParserFactory"/><component-import key="searchService" interface="com.atlassian.confluence.api.service.search.CQLSearchService"/><web-resource key="confluence-search-resources" name="confluence-search Web Resources"><transformation extension="js"><transformer key="jsI18n"/></transformation><transformation extension="soy"><transformer key="soyTransformer"><functions>com.atlassian.confluence.plugins.soy:soy-core-functions</functions></transformer></transformation><resource type="download" name="confluence-search-event-constants.js" location="/js/event/constants.js"/><resource type="download" name="confluence-search-event-dispatcher.js" location="/js/event/dispatcher.js"/><resource type="download" name="cql-search-result.js" location="templates/cql-search-result.soy"/><resource type="download" name="pagination.js" location="templates/pagination.soy"/><resource type="download" name="help.js" location="templates/help.soy"/><resource type="download" name="confluence-search.css" location="/css/confluence-search.css"/><resource type="download" name="confluence-search-utils.js" location="/js/utils.js"/><resource type="download" name="confluence-search-md5.js" location="/js/md5.js"/><resource type="download" name="confluence-search-md5-amd.js" location="/js/md5-amd.js"/><resource type="download" name="confluence-search-model-result.js" location="/js/model/result.js"/><resource type="download" name="confluence-search-collection-cql-results.js" location="/js/collection/cql-results.js"/><resource type="download" name="confluence-search-view-results.js" location="/js/view/results.js"/><resource type="download" name="confluence-search-view-search.js" location="/js/view/search.js"/><resource type="download" name="confluence-search-view-filter.js" location="/js/view/filter.js"/><resource type="download" name="confluence-search-view-cql-filter.js" location="/js/view/cql-filter.js"/><resource type="download" name="confluence-search-history.js" location="/js/history.js"/><resource type="download" name="confluence-search-search-controller.js" location="/js/search-controller.js"/><resource type="download" name="confluence-search.js" location="/js/confluence-search.js"/><resource type="download" name="confluence-search-analytics.js" location="/js/analytics.js"/><resource type="download" name="confluence-search-main.js" location="/js/confluence-search-main.js"/><resource type="download" name="images/" location="/images"/><dependency>confluence.web.resources:amd</dependency><dependency>confluence.web.resources:event</dependency><dependency>confluence.web.resources:meta</dependency><dependency>confluence.aui.staging:dark-features</dependency><dependency>com.atlassian.auiplugin:ajs</dependency><dependency>confluence.web.resources:ajs</dependency><dependency>com.atlassian.auiplugin:ajs-backbone</dependency><dependency>com.atlassian.confluence.plugins.confluence-ui-components:space-picker</dependency><dependency>com.atlassian.confluence.plugins.confluence-ui-components:cql</dependency><dependency>com.atlassian.auiplugin:aui-select2</dependency><dependency>com.atlassian.auiplugin:aui-experimental-spinner</dependency><dependency>com.atlassian.auiplugin:aui-experimental-soy-templates</dependency><context>confluence-search</context></web-resource><xwork key="actions" name="XWork Actions"><package name="search" extends="default"><default-interceptor-ref name="defaultStack"/><action name="searchv3" class="com.atlassian.confluence.plugins.search.actions.SearchAction"><interceptor-ref name="validatingStack"/><result name="error" type="velocity">/com/atlassian/confluence/plugins/search/velocity/search.html.vm</result><result name="input" type="velocity">/com/atlassian/confluence/plugins/search/velocity/search.html.vm</result><result name="success" type="velocity">/com/atlassian/confluence/plugins/search/velocity/search.html.vm</result></action><action name="explain" class="com.atlassian.confluence.plugins.search.actions.ExplainAction"><result name="success" type="velocity">/com/atlassian/confluence/plugins/search/velocity/explain.html.vm</result></action></package></xwork><decorator name="blank" page="blank.vmd" key="blank"><description>Blank decorator</description><pattern>/explain.action*</pattern></decorator><component key="searcherv3" class="com.atlassian.confluence.plugins.search.LuceneSearcher" public="true"><interface>com.atlassian.confluence.plugins.search.api.Searcher</interface></component><component key="searcherv2" class="com.atlassian.confluence.plugins.search.V2Searcher"><interface>com.atlassian.confluence.plugins.search.api.Searcher</interface></component><component key="queryFactory" class="com.atlassian.confluence.plugins.search.query.LuceneQueryFactory"/><component key="filterFactory" class="com.atlassian.confluence.plugins.search.query.LuceneFilterFactory"/><component key="cqlSearcher" class="com.atlassian.confluence.plugins.search.actions.CQLSearcher"/><component key="disabledContentTypeFilterFactory" class="com.atlassian.confluence.plugins.search.query.DisabledContentTypeFilterFactory"/><component key="nonViewableContentTypeFilterFactory" class="com.atlassian.confluence.plugins.search.query.NonViewableContentTypeFilterFactory"/><component key="moduleDescriptorCacheFactory" class="com.atlassian.confluence.plugins.search.boosting.ModuleDescriptorCacheFactory"/><component key="searchResultBuilderFactory" class="com.atlassian.confluence.plugins.search.model.SearchResultBuilderFactory"/><component key="spanQueryBuilder" class="com.atlassian.confluence.plugins.search.query.LuceneSpanQueryBuilder"/><component key="boostingQueryFactory" class="com.atlassian.confluence.plugins.search.boosting.BoostQueryFactoryImpl" public="true"><interface>com.atlassian.confluence.search.v2.lucene.boosting.BoostingQueryFactory</interface></component><component key="lastModificationFormatter" class="com.atlassian.confluence.plugins.search.model.LastModificationFormatter"/><lucene-query-mapper key="siteSearch-query-mapper" description="Maps v2 SiteTextSearchQuery to a lucene search query" class="com.atlassian.confluence.plugins.search.query.v2search.lucene.SiteTextSearchQueryMapper" handles="siteSearch"/><lucene-query-mapper key="boosting-query-mapper" description="Maps v2 search BoostingQuery to a lucene search query" class="com.atlassian.confluence.plugins.search.query.v2search.BoostingQueryMapper" handles="boosting"/><lucene-search-filter-mapper key="excludedContentTypeSearchFilter" description="Provides the filters from disabledContentTypeFilterFactory and nonViewableContentTypeFilterFactory" class="com.atlassian.confluence.plugins.search.query.v2search.ExcludedContentTypeSearchFilterMapper" handles="excludedContentTypeSearchFilter"/><es-query-mapper key="es-siteSearch-query-mapper" class="com.atlassian.confluence.plugins.search.query.v2search.elasticsearch.SiteTextSearchQueryMapper"/><cql-field fieldName="siteSearch" key="cql-site-search-field" name="Site search CQL Field" class="com.atlassian.confluence.plugins.search.query.v2search.SiteSearchFieldHandler"/><servlet-filter key="searchv3Filter" name="Search V3 Filter" class="com.atlassian.confluence.plugins.search.Searchv3Filter" location="before-dispatch" weight="110" system="true"><url-pattern>*/dosearchsite.action*</url-pattern><dispatcher>REQUEST</dispatcher><dispatcher>FORWARD</dispatcher></servlet-filter><servlet-filter key="searchQuerySessionFilter" name="Search Query Session Filter" class="com.atlassian.confluence.plugins.search.SearchQuerySessionFilter" location="before-dispatch" weight="100" system="true"><url-pattern>*/rest/experimental/search*</url-pattern></servlet-filter><rest key="rest" name="Confluence Search REST API" path="/searchv3" version="1.0"/></atlassian-plugin>