<atlassian-plugin name="Confluence Usage Stats" key="com.atlassian.confluence.ext.usage" plugins-version="2" state="disabled"><plugin-info><description>Tracks usage events in Confluence.<br/><br/>Please note that this plugin does not scale well for large
            deployments. If you encounter unexpected slowdowns, please leave this plugin disabled.</description><vendor name="Atlassian Pty Ltd" url="http://www.atlassian.com/"/><version>1.0.0</version></plugin-info><resource type="i18n" name="i18n" location="resources.stats.usage"/><component name="Usage Index Manager" class="com.atlassian.confluence.ext.usage.index.UsageIndexManager" key="usageIndexManager"/><component name="Usage Task Queue" class="com.atlassian.confluence.ext.usage.event.UsageTaskQueue" key="usageTaskQueue"/><listener name="Usage Event Listener" class="com.atlassian.confluence.ext.usage.event.UsageEventListener" key="usageEventListener"/><component name="Check Confluence is not Clustered" key="unclusteredOnly" class="com.atlassian.confluence.ext.usage.cluster.UnclusteredOnlySpringBean"/><macro name="usage" class="com.atlassian.confluence.ext.usage.macros.UsageStatsMacro" key="usage"><description key="usage.usage.macro.desc.legacy"/><resource type="velocity" name="help" location="templates/usage/usagemacro-help.vm"><param name="help-section" value="confluence"/></resource><category name="admin"/><category name="reporting"/><parameters/></macro><xhtml-macro name="usage" class="com.atlassian.confluence.ext.usage.macros.UsageStatsMacro" key="usage-xhtml"><description key="usage.usage.macro.desc"/><category name="admin"/><category name="reporting"/><parameters><parameter name="spaces" type="spacekey" multiple="true"/><parameter name="types" type="enum" multiple="true" default="all"><value name="all"/><value name="page"/><value name="blogpost"/><value name="comment"/><value name="space"/></parameter><parameter name="events" type="enum" multiple="true" default="view"><value name="view"/><value name="create"/><value name="remove"/><value name="update"/></parameter><parameter name="columns" type="enum" default="event"><value name="event"/><value name="space"/><value name="type"/></parameter><parameter name="timespan" type="relativedate" default="1d"/><parameter name="period" type="enum" default="daily"><value name="minutely"/><value name="hourly"/><value name="daily"/><value name="weekly"/><value name="monthly"/><value name="yearly"/></parameter></parameters></xhtml-macro><macro name="popular" class="com.atlassian.confluence.ext.usage.macros.PopularMacro" key="popular"><description key="usage.popular.macro.desc.legacy"/><resource type="velocity" name="help" location="templates/usage/popularmacro-help.vm"><param name="help-section" value="confluence"/></resource><category name="admin"/><category name="reporting"/><parameters/></macro><xhtml-macro name="popular" class="com.atlassian.confluence.ext.usage.macros.PopularMacro" key="popular-xhtml"><description key="usage.popular.macro.desc"/><category name="admin"/><category name="reporting"/><parameters><parameter name="spaces" type="spacekey" multiple="true"/><parameter name="types" type="enum" multiple="true" default="all"><value name="all"/><value name="page"/><value name="blogpost"/><value name="comment"/><value name="space"/></parameter><parameter name="labels" type="label" multiple="true"/><parameter name="display" type="enum" multiple="true" default="title,count"><value name="icon"/><value name="title"/><value name="count"/></parameter><parameter name="events" type="enum" multiple="true" default="view"><value name="view"/><value name="create"/><value name="remove"/><value name="update"/></parameter><parameter name="timespan" type="relativedate" default="1d"/><parameter name="max" type="int" default="10"/><parameter name="style" type="enum" default="table"><value name="table"/><value name="list"/><value name="flat"/></parameter></parameters></xhtml-macro><macro name="topusers" class="com.atlassian.confluence.ext.usage.macros.TopUsersMacro" key="topusers"><description key="usage.topusers.macro.desc.legacy"/><resource type="velocity" name="help" location="templates/usage/topusersmacro-help.vm"><param name="help-section" value="confluence"/></resource><category name="admin"/><category name="reporting"/><parameters/></macro><xhtml-macro name="topusers" class="com.atlassian.confluence.ext.usage.macros.TopUsersMacro" key="topusers-xhtml"><description key="usage.topusers.macro.desc"/><category name="admin"/><category name="reporting"/><parameters><parameter name="spaces" type="spacekey" multiple="true"/><parameter name="display" type="enum" multiple="true" default="title,count"><value name="icon"/><value name="title"/><value name="count"/></parameter><parameter name="events" type="enum" multiple="true" default="view"><value name="view"/><value name="create"/><value name="remove"/><value name="update"/></parameter><parameter name="columns" type="enum" default="event"><value name="event"/><value name="space"/><value name="type"/></parameter><parameter name="timespan" type="relativedate" default="1d"/><parameter name="period" type="enum" default="daily"><value name="minutely"/><value name="hourly"/><value name="daily"/><value name="weekly"/><value name="monthly"/><value name="yearly"/></parameter></parameters></xhtml-macro><web-section key="activitysection" name="Activity Web Section" location="system.space.tools" weight="600"><label key="activity.name"/><condition class="com.atlassian.confluence.plugin.descriptor.web.conditions.SpacePermissionCondition"><param name="permission">view</param></condition><condition class="com.atlassian.confluence.ext.usage.conditions.BackwardsCompatibilitySpaceSideBarCondition"/></web-section><web-item key="default-space-activity" name="Activity Tab" section="system.space.tools/activitysection" weight="60"><label key="activity.name"/><condition class="com.atlassian.confluence.plugin.descriptor.web.conditions.SpacePermissionCondition"><param name="permission">view</param></condition><condition class="com.atlassian.confluence.ext.usage.conditions.BackwardsCompatibilitySpaceSideBarCondition"/><link>/spaces/usage/report.action?key=$generalUtil.urlEncode($helper.spaceKey)</link></web-item><web-item key="space-activity" name="Activity Tab" section="system.space.advanced/advanced" weight="60"><label key="activity.name"/><condition class="com.atlassian.confluence.plugin.descriptor.web.conditions.SpacePermissionCondition"><param name="permission">view</param></condition><condition class="com.atlassian.confluence.ext.usage.conditions.BackwardsCompatibilitySpaceSideBarCondition" invert="true"/><link>/spaces/usage/report.action?key=$generalUtil.urlEncode($helper.spaceKey)</link></web-item><web-item key="global-usage" name="Global Usage Item" section="system.admin/administration" weight="100"><label key="usage.global.title"/><link>/admin/usage/globalusage.action</link></web-item><xwork name="Global Usage Report" key="globalusagereport"><description>Shows activity statistics for the Confluence instance.</description><package name="globalusage" extends="admin" namespace="/admin/usage"><default-interceptor-ref name="defaultStack"/><action name="globalusage" class="com.atlassian.confluence.ext.usage.actions.GlobalUsageReport"><result name="success" type="velocity">/templates/usage/global-report.vm</result></action><action name="usagequeue" class="com.atlassian.confluence.ext.usage.event.UsageTaskQueueAction"><result name="success" type="velocity">/templates/usage/usage-queue.vm</result></action><action name="flushusagequeue" class="com.atlassian.confluence.ext.usage.event.UsageTaskQueueAction" method="flush"><result name="success" type="redirect">/admin/usage/usagequeue.action</result></action></package></xwork><xwork name="Space Usage Report" key="spaceusagereport"><description>Shows activity statistics for a particular space.</description><package name="spaceusage" extends="spaces" namespace="/spaces/usage"><default-interceptor-ref name="defaultStack"/><action name="report" class="com.atlassian.confluence.ext.usage.actions.SpaceUsageReport"><result name="success" type="velocity">/templates/usage/space-report.vm</result></action></package></xwork></atlassian-plugin>